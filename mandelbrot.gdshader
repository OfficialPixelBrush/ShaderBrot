shader_type canvas_item;
render_mode unshaded;

uniform int iterations = 10000;
void vertex() {
	// Called for every vertex the material is visible on.
}

float mapRange(float a1, float a2, float b1, float b2, float s) {
	return b1 + (s - a1) * (b2 - b1) / (a2 - a1);
}

float complexAbsSqr(vec2 z) {
	// Idk why the +1.0 on there fixes it, and frankly, I don't care
	return z.x * z.x + z.y * z.y+1.0;
}

int ultraFractalColorIndex(float n, vec2 z) {
	float index;
    if (n < float(iterations)) {
		float i = float(n + 1.0 - log(log(complexAbsSqr(z)) / log(1024.0)) / log(2.0));
		index = mod(((200.0*sqrt(i))),2000.0);
    }
    return int(index);  // Or any default color index if n >= iterations
}

vec4 ultraFractalColor(int n, int index) {
	int deadColorArrayRGB[6000] = {14,0,59,14,0,59,14,0,59,14,0,59,14,0,59,14,0,59,14,0,59,14,0,59,14,0,59,14,0,59,14,0,59,14,0,59,14,0,59,14,0,59,14,0,59,14,0,59,14,0,59,14,0,59,14,0,59,14,0,59,14,0,60,14,1,60,14,1,60,14,1,60,14,1,60,14,1,60,14,1,60,14,1,60,14,1,60,14,1,60,14,1,60,14,1,60,14,1,60,14,1,60,14,1,60,14,1,61,14,1,61,14,2,61,15,2,61,15,2,61,15,2,61,15,2,61,15,2,61,15,2,61,15,2,61,15,2,62,15,2,62,15,2,62,15,3,62,15,3,62,15,3,62,15,3,62,15,3,62,15,3,62,15,3,63,15,3,63,15,3,63,15,4,63,15,4,63,15,4,63,15,4,63,15,4,64,15,4,64,15,4,64,15,4,64,15,5,64,15,5,64,16,5,64,16,5,65,16,5,65,16,5,65,16,5,65,16,6,65,16,6,65,16,6,66,16,6,66,16,6,66,16,6,66,16,6,66,16,7,66,16,7,67,16,7,67,16,7,67,16,7,67,16,7,67,16,8,67,16,8,68,17,8,68,17,8,68,17,8,68,17,8,68,17,9,69,17,9,69,17,9,69,17,9,69,17,9,69,17,10,70,17,10,70,17,10,70,17,10,70,17,10,70,17,10,71,17,11,71,17,11,71,17,11,71,18,11,72,18,11,72,18,12,72,18,12,72,18,12,72,18,12,73,18,12,73,18,13,73,18,13,73,18,13,74,18,13,74,18,13,74,18,14,74,18,14,75,18,14,75,19,14,75,19,15,75,19,15,76,19,15,76,19,15,76,19,15,76,19,16,77,19,16,77,19,16,77,19,16,77,19,17,78,19,17,78,19,17,78,19,17,78,20,18,79,20,18,79,20,18,79,20,18,79,20,19,80,20,19,80,20,19,80,20,19,81,20,19,81,20,20,81,20,20,81,20,20,82,20,20,82,21,21,82,21,21,82,21,21,83,21,22,83,21,22,83,21,22,84,21,22,84,21,23,84,21,23,84,21,23,85,21,23,85,21,24,85,22,24,86,22,24,86,22,24,86,22,25,87,22,25,87,22,25,87,22,25,87,22,26,88,22,26,88,22,26,88,22,27,89,22,27,89,23,27,89,23,27,90,23,28,90,23,28,90,23,28,91,23,29,91,23,29,91,23,29,92,23,29,92,23,30,92,23,30,92,24,30,93,24,31,93,24,31,93,24,31,94,24,31,94,24,32,94,24,32,95,24,32,95,24,33,95,24,33,96,24,33,96,25,33,96,25,34,97,25,34,97,25,34,97,25,35,98,25,35,98,25,35,98,25,36,99,25,36,99,25,36,99,26,36,100,26,37,100,26,37,100,26,37,101,26,38,101,26,38,101,26,38,102,26,39,102,26,39,103,26,39,103,27,40,103,27,40,104,27,40,104,27,41,104,27,41,105,27,41,105,27,41,105,27,42,106,27,42,106,27,42,106,28,43,107,28,43,107,28,43,107,28,44,108,28,44,108,28,44,109,28,45,109,28,45,109,28,45,110,28,46,110,29,46,110,29,46,111,29,47,111,29,47,111,29,47,112,29,48,112,29,48,113,29,48,113,29,49,113,29,49,114,30,49,114,30,50,114,30,50,115,30,50,115,30,50,115,30,51,116,30,51,116,30,51,117,30,52,117,30,52,117,31,52,118,31,53,118,31,53,118,31,53,119,31,54,119,31,54,120,31,54,120,31,55,120,31,55,121,32,55,121,32,56,121,32,56,122,32,56,122,32,57,123,32,57,123,32,57,123,32,58,124,32,58,124,32,59,124,33,59,125,33,59,125,33,60,126,33,60,126,33,60,126,33,61,127,33,61,127,33,61,127,33,62,128,34,62,128,34,62,129,34,63,129,34,63,129,34,63,130,34,64,130,34,64,130,34,64,131,34,65,131,35,65,132,35,65,132,35,66,132,35,66,133,35,66,133,35,67,133,35,67,134,35,67,134,35,68,135,36,68,135,36,68,135,36,69,136,36,69,136,36,69,137,36,70,137,36,70,137,36,70,138,36,71,138,36,71,138,37,71,139,37,72,139,37,72,140,37,72,140,37,73,140,37,73,141,37,73,141,37,74,141,37,74,142,38,74,142,38,75,143,38,75,143,38,75,143,38,76,144,38,76,144,38,76,144,38,77,145,38,77,145,39,77,146,39,78,146,39,78,146,39,79,147,39,79,147,39,79,147,39,80,148,39,80,148,39,80,149,39,81,149,40,81,149,40,81,150,40,82,150,40,82,150,40,82,151,40,83,151,40,83,152,40,83,152,40,84,152,41,84,153,41,84,153,41,85,153,41,85,154,41,85,154,41,86,155,41,86,155,41,86,155,41,86,156,41,87,156,42,87,156,42,87,157,42,88,157,42,88,157,42,88,158,42,89,158,42,89,159,42,89,159,42,90,159,42,90,160,43,90,160,43,91,160,43,91,161,43,91,161,43,92,161,43,92,162,43,92,162,43,93,163,43,93,163,43,93,163,44,94,164,44,94,164,44,94,164,44,95,165,44,95,165,44,95,165,44,95,166,44,96,166,44,96,166,44,96,167,45,97,167,45,97,167,45,97,168,45,98,168,45,98,169,45,98,169,45,99,169,45,99,170,45,99,170,45,100,170,46,100,171,46,100,171,46,100,171,46,101,172,46,101,172,46,101,172,46,102,173,46,102,173,46,102,173,46,103,174,47,103,174,47,103,174,47,103,175,47,104,175,47,104,175,47,104,176,47,105,176,47,105,176,47,105,177,47,105,177,47,106,177,48,106,178,48,106,178,48,107,178,48,107,178,48,107,179,48,107,179,48,108,179,48,108,180,48,108,180,48,109,180,48,109,181,49,109,181,49,109,181,49,110,182,49,110,182,49,110,182,49,111,183,49,111,183,49,111,183,49,111,183,49,112,184,49,112,184,49,112,184,50,112,185,50,113,185,50,113,185,50,113,186,50,113,186,50,114,186,50,114,186,50,114,187,50,114,187,50,115,187,50,115,188,50,115,188,51,116,188,51,116,188,51,116,189,51,116,189,51,117,189,51,117,189,51,117,190,51,117,190,51,117,190,51,118,191,51,118,191,51,118,191,51,118,191,52,119,192,52,119,192,52,119,192,52,119,192,52,120,193,52,120,193,52,120,193,52,120,193,52,121,194,52,121,194,52,121,194,52,121,194,52,121,195,52,122,195,53,122,195,53,122,195,53,122,196,53,123,196,53,123,196,53,123,196,53,123,197,53,123,197,53,124,197,53,124,197,53,124,198,53,124,198,53,124,198,53,125,198,53,125,198,54,125,199,54,125,199,54,125,199,54,126,199,54,126,200,54,126,200,54,126,200,54,126,200,54,126,200,54,127,201,54,127,201,54,127,201,54,127,201,54,127,201,54,128,202,54,128,202,54,128,202,54,128,202,55,128,202,55,128,203,55,129,203,55,129,203,55,129,203,55,129,203,55,129,203,55,129,204,55,130,204,55,130,204,55,130,204,55,130,204,55,130,204,55,130,205,55,130,205,55,131,205,55,131,205,55,131,205,55,131,205,55,131,206,56,131,206,56,131,206,56,132,206,56,132,206,56,132,206,56,132,206,56,132,207,56,132,207,56,132,207,56,132,207,56,133,207,56,133,207,56,133,207,56,133,208,56,133,208,56,133,208,56,133,208,56,133,208,56,133,208,56,134,208,56,134,208,56,134,208,56,134,209,56,134,209,56,134,209,56,134,209,56,134,209,56,134,209,56,134,209,57,134,209,57,135,209,57,135,209,57,135,210,57,135,210,57,135,210,57,135,210,57,135,210,57,135,210,57,135,210,57,135,210,57,135,210,57,135,210,57,135,210,57,135,210,57,135,210,57,135,210,57,136,210,57,136,211,57,136,211,57,136,211,57,136,211,57,136,211,57,136,211,57,136,211,57,136,211,57,136,211,57,136,211,57,136,211,57,136,211,57,136,211,57,136,211,57,136,211,57,136,211,57,136,211,57,136,211,57,136,211,57,136,211,57,136,211,57,136,211,57,136,211,57,136,211,57,136,211,57,136,211,57,136,211,57,136,211,57,136,211,57,136,211,57,136,211,57,136,211,58,136,211,58,136,211,58,136,211,58,136,211,58,137,211,58,137,211,58,137,211,58,137,211,58,137,211,59,137,211,59,137,211,59,137,211,59,137,211,59,137,211,59,137,212,60,138,212,60,138,212,60,138,212,60,138,212,60,138,212,61,138,212,61,138,212,61,138,212,61,139,212,62,139,212,62,139,212,62,139,212,62,139,212,63,139,212,63,139,212,63,140,212,63,140,212,64,140,212,64,140,213,64,140,213,65,141,213,65,141,213,65,141,213,66,141,213,66,141,213,66,142,213,67,142,213,67,142,213,67,142,213,68,142,213,68,143,213,68,143,214,69,143,214,69,143,214,69,143,214,70,144,214,70,144,214,71,144,214,71,144,214,71,145,214,72,145,214,72,145,214,73,145,214,73,146,215,74,146,215,74,146,215,74,146,215,75,147,215,75,147,215,76,147,215,76,148,215,77,148,215,77,148,215,78,148,216,78,149,216,79,149,216,79,149,216,80,150,216,80,150,216,81,150,216,81,150,216,82,151,216,82,151,217,83,151,217,83,152,217,84,152,217,84,152,217,85,153,217,85,153,217,86,153,217,86,154,218,87,154,218,87,154,218,88,155,218,88,155,218,89,155,218,90,156,218,90,156,218,91,156,219,91,157,219,92,157,219,93,157,219,93,158,219,94,158,219,94,158,219,95,159,219,95,159,220,96,159,220,97,160,220,97,160,220,98,161,220,99,161,220,99,161,220,100,162,221,100,162,221,101,162,221,102,163,221,102,163,221,103,164,221,104,164,221,104,164,221,105,165,222,105,165,222,106,166,222,107,166,222,107,166,222,108,167,222,109,167,223,109,168,223,110,168,223,111,168,223,111,169,223,112,169,223,113,170,223,113,170,224,114,170,224,115,171,224,116,171,224,116,172,224,117,172,224,118,172,224,118,173,225,119,173,225,120,174,225,120,174,225,121,174,225,122,175,225,122,175,226,123,176,226,124,176,226,125,177,226,125,177,226,126,177,226,127,178,226,127,178,227,128,179,227,129,179,227,130,180,227,130,180,227,131,180,227,132,181,228,132,181,228,133,182,228,134,182,228,135,183,228,135,183,228,136,184,229,137,184,229,138,184,229,138,185,229,139,185,229,140,186,229,140,186,230,141,187,230,142,187,230,143,187,230,143,188,230,144,188,230,145,189,231,146,189,231,146,190,231,147,190,231,148,191,231,149,191,231,149,191,232,150,192,232,151,192,232,152,193,232,152,193,232,153,194,232,154,194,233,155,195,233,155,195,233,156,196,233,157,196,233,157,196,233,158,197,233,159,197,234,160,198,234,160,198,234,161,199,234,162,199,234,163,200,234,163,200,235,164,200,235,165,201,235,166,201,235,166,202,235,167,202,235,168,203,236,169,203,236,169,204,236,170,204,236,171,204,236,172,205,236,172,205,237,173,206,237,174,206,237,174,207,237,175,207,237,176,207,237,177,208,238,177,208,238,178,209,238,179,209,238,180,210,238,180,210,238,181,211,239,182,211,239,182,211,239,183,212,239,184,212,239,185,213,239,185,213,240,186,214,240,187,214,240,187,214,240,188,215,240,189,215,240,190,216,240,190,216,241,191,217,241,192,217,241,192,217,241,193,218,241,194,218,241,194,219,242,195,219,242,196,219,242,196,220,242,197,220,242,198,221,242,199,221,242,199,221,243,200,222,243,201,222,243,201,223,243,202,223,243,203,223,243,203,224,243,204,224,244,205,225,244,205,225,244,206,225,244,207,226,244,207,226,244,208,227,245,208,227,245,209,227,245,210,228,245,210,228,245,211,229,245,212,229,245,212,229,245,213,230,246,213,230,246,214,230,246,215,231,246,215,231,246,216,232,246,217,232,246,217,232,247,218,233,247,218,233,247,219,233,247,219,234,247,220,234,247,221,234,247,221,235,247,222,235,248,222,235,248,223,236,248,224,236,248,224,236,248,225,237,248,225,237,248,226,237,248,226,238,249,227,238,249,227,238,249,228,239,249,228,239,249,229,239,249,229,240,249,230,240,249,230,240,250,231,241,250,231,241,250,232,241,250,232,241,250,233,242,250,233,242,250,234,242,250,234,243,250,235,243,251,235,243,251,236,243,251,236,244,251,237,244,251,237,244,251,238,245,251,238,245,251,238,245,251,239,245,251,239,246,252,240,246,252,240,246,252,241,246,252,241,247,252,241,247,252,242,247,252,242,247,252,243,248,252,243,248,252,243,248,252,244,248,252,244,248,253,244,249,253,245,249,253,245,249,253,245,249,253,246,249,253,246,250,253,246,250,253,247,250,253,247,250,253,247,250,253,248,251,253,248,251,253,248,251,254,249,251,254,249,251,254,249,252,254,249,252,254,250,252,254,250,252,254,250,252,254,250,252,254,251,252,254,251,253,254,251,253,254,251,253,254,252,253,254,252,253,254,252,253,254,252,253,254,252,253,254,253,254,254,253,254,255,253,254,255,253,254,255,253,254,255,253,254,255,254,254,255,254,254,255,254,254,255,254,254,255,254,254,255,254,255,255,254,255,255,254,255,255,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,254,255,255,254,255,255,254,255,255,254,255,255,254,255,255,254,255,255,253,255,254,253,255,254,253,255,254,253,255,254,253,255,254,253,255,254,252,255,254,252,255,254,252,255,254,252,255,254,251,255,254,251,255,254,251,255,254,251,255,254,250,255,253,250,255,253,250,255,253,249,255,253,249,255,253,249,255,253,249,255,253,248,255,253,248,255,253,248,255,253,247,255,252,247,255,252,246,255,252,246,255,252,246,255,252,245,255,252,245,255,252,244,255,252,244,255,251,244,255,251,243,255,251,243,255,251,242,255,251,242,255,251,241,255,251,241,255,250,240,255,250,240,255,250,240,255,250,239,255,250,239,255,250,238,255,250,238,255,249,237,255,249,236,255,249,236,255,249,235,255,249,235,255,249,234,255,248,234,255,248,233,255,248,233,255,248,232,255,248,231,255,247,231,255,247,230,255,247,230,255,247,229,255,247,228,255,246,228,255,246,227,255,246,227,255,246,226,255,246,225,255,245,225,255,245,224,255,245,223,255,245,223,255,245,222,255,244,221,255,244,221,255,244,220,255,244,219,255,244,219,255,243,218,255,243,217,255,243,217,255,243,216,255,243,215,255,242,214,255,242,214,255,242,213,255,242,212,255,241,212,255,241,211,255,241,210,255,241,209,255,240,209,255,240,208,255,240,207,255,240,206,255,239,205,255,239,205,255,239,204,255,239,203,255,238,202,255,238,202,255,238,201,255,238,200,255,237,199,255,237,198,255,237,197,255,237,197,255,236,196,255,236,195,255,236,194,255,236,193,255,235,193,255,235,192,255,235,191,255,235,190,255,234,189,255,234,188,255,234,187,255,234,187,255,233,186,255,233,185,255,233,184,255,232,183,255,232,182,255,232,181,255,232,181,255,231,180,255,231,179,255,231,178,255,231,177,255,230,176,255,230,175,255,230,174,255,229,173,255,229,173,255,229,172,255,229,171,255,228,170,255,228,169,255,228,168,255,227,167,255,227,166,255,227,165,255,227,164,255,226,163,255,226,162,255,226,162,255,225,161,255,225,160,255,225,159,255,225,158,255,224,157,255,224,156,255,224,155,255,223,154,255,223,153,255,223,152,255,222,151,255,222,150,255,222,149,255,222,148,255,221,148,255,221,147,255,221,146,255,220,145,255,220,144,255,220,143,255,219,142,255,219,141,255,219,140,255,219,139,255,218,138,255,218,137,255,218,136,255,217,135,255,217,134,255,217,133,255,216,132,255,216,131,255,216,130,255,216,129,255,215,128,255,215,128,255,215,127,255,214,126,255,214,125,255,214,124,255,214,123,255,213,122,255,213,121,255,213,120,255,212,119,255,212,118,255,212,117,255,211,116,255,211,115,255,211,114,255,211,113,255,210,112,255,210,111,255,210,110,255,209,109,255,209,108,255,209,107,255,208,107,255,208,106,255,208,105,255,208,104,255,207,103,255,207,102,255,207,101,255,206,100,255,206,99,255,206,98,255,205,97,255,205,96,255,205,95,255,205,94,255,204,93,255,204,93,255,204,92,255,203,91,255,203,90,255,203,89,255,203,88,255,202,87,255,202,86,255,202,85,255,201,84,255,201,83,255,201,82,255,201,82,255,200,81,255,200,80,255,200,79,255,199,78,255,199,77,255,199,76,255,199,75,255,198,74,255,198,74,255,198,73,255,198,72,255,197,71,255,197,70,255,197,69,255,196,68,255,196,68,255,196,67,255,196,66,255,195,65,255,195,64,255,195,63,255,195,62,255,194,62,255,194,61,255,194,60,255,194,59,255,193,58,255,193,58,255,193,57,255,193,56,255,192,55,255,192,54,255,192,53,255,192,53,255,191,52,255,191,51,255,191,50,255,191,50,255,190,49,255,190,48,255,190,47,255,190,46,255,189,46,255,189,45,255,189,44,255,189,43,255,188,43,255,188,42,255,188,41,255,188,41,255,188,40,255,187,39,255,187,38,255,187,38,255,187,37,255,186,36,255,186,36,255,186,35,255,186,34,255,186,34,255,185,33,255,185,32,255,185,32,255,185,31,255,185,30,255,184,30,255,184,29,255,184,28,255,184,28,255,184,27,255,183,27,255,183,26,255,183,25,255,183,25,255,183,24,255,182,24,255,182,23,255,182,22,255,182,22,255,182,21,255,181,21,255,181,20,255,181,20,255,181,19,255,181,19,255,181,18,255,180,17,255,180,17,255,180,16,255,180,16,255,180,15,255,180,15,255,180,15,255,179,14,255,179,14,255,179,13,255,179,13,255,179,12,255,179,12,255,179,11,255,178,11,255,178,11,255,178,10,255,178,10,255,178,9,255,178,9,255,178,9,255,178,8,255,177,8,255,177,7,255,177,7,255,177,7,255,177,6,255,177,6,255,177,6,255,177,6,255,177,5,255,177,5,255,176,5,255,176,4,255,176,4,255,176,4,255,176,4,255,176,3,255,176,3,255,176,3,255,176,3,255,176,2,255,176,2,255,176,2,255,176,2,255,176,2,255,175,2,255,175,1,255,175,1,255,175,1,255,175,1,255,175,1,255,175,1,255,175,1,255,175,0,255,175,0,255,175,0,255,175,0,255,175,0,255,175,0,255,175,0,255,175,0,255,175,0,255,175,0,255,175,0,255,175,0,255,175,0,255,175,0,255,175,0,255,175,0,255,175,0,255,175,0,255,175,0,255,175,0,255,175,0,255,175,0,255,175,0,255,175,0,255,174,0,254,174,0,254,174,0,254,174,0,254,174,0,254,174,0,254,174,0,254,174,0,254,174,0,254,174,0,254,173,0,254,173,0,253,173,0,253,173,0,253,173,0,253,173,0,253,173,0,253,173,0,253,172,0,253,172,0,252,172,0,252,172,0,252,172,0,252,171,0,252,171,0,252,171,0,252,171,0,251,171,0,251,171,1,251,170,1,251,170,1,251,170,1,250,170,1,250,169,1,250,169,1,250,169,1,250,169,1,249,168,1,249,168,1,249,168,1,249,168,1,249,167,1,248,167,1,248,167,1,248,167,1,248,166,1,247,166,1,247,166,1,247,166,1,247,165,1,246,165,1,246,165,1,246,164,1,246,164,1,245,164,1,245,163,1,245,163,1,245,163,1,244,163,1,244,162,1,244,162,2,243,162,2,243,161,2,243,161,2,243,161,2,242,160,2,242,160,2,242,159,2,241,159,2,241,159,2,241,158,2,240,158,2,240,158,2,240,157,2,240,157,2,239,157,2,239,156,2,239,156,2,238,155,2,238,155,2,238,155,2,237,154,2,237,154,2,237,153,3,236,153,3,236,153,3,235,152,3,235,152,3,235,151,3,234,151,3,234,151,3,234,150,3,233,150,3,233,149,3,233,149,3,232,148,3,232,148,3,231,148,3,231,147,3,231,147,3,230,146,3,230,146,3,230,145,3,229,145,4,229,144,4,228,144,4,228,143,4,228,143,4,227,143,4,227,142,4,226,142,4,226,141,4,226,141,4,225,140,4,225,140,4,224,139,4,224,139,4,224,138,4,223,138,4,223,137,4,222,137,4,222,136,5,221,136,5,221,135,5,221,135,5,220,134,5,220,134,5,219,133,5,219,133,5,218,132,5,218,132,5,218,131,5,217,131,5,217,130,5,216,130,5,216,129,5,215,129,5,215,128,5,215,128,5,214,127,6,214,127,6,213,126,6,213,126,6,212,125,6,212,125,6,211,124,6,211,124,6,211,123,6,210,123,6,210,122,6,209,121,6,209,121,6,208,120,6,208,120,6,207,119,6,207,119,7,206,118,7,206,118,7,206,117,7,205,117,7,205,116,7,204,116,7,204,115,7,203,115,7,203,114,7,202,113,7,202,113,7,201,112,7,201,112,7,200,111,7,200,111,7,200,110,8,199,110,8,199,109,8,198,109,8,198,108,8,197,107,8,197,107,8,196,106,8,196,106,8,195,105,8,195,105,8,194,104,8,194,104,8,193,103,8,193,103,8,193,102,9,192,101,9,192,101,9,191,100,9,191,100,9,190,99,9,190,99,9,189,98,9,189,98,9,188,97,9,188,97,9,187,96,9,187,95,9,186,95,9,186,94,9,185,94,9,185,93,10,185,93,10,184,92,10,184,92,10,183,91,10,183,91,10,182,90,10,182,89,10,181,89,10,181,88,10,180,88,10,180,87,10,179,87,10,179,86,10,179,86,10,178,85,10,178,85,11,177,84,11,177,84,11,176,83,11,176,83,11,175,82,11,175,81,11,174,81,11,174,80,11,174,80,11,173,79,11,173,79,11,172,78,11,172,78,11,171,77,11,171,77,11,170,76,12,170,76,12,170,75,12,169,75,12,169,74,12,168,74,12,168,73,12,167,73,12,167,72,12,167,72,12,166,71,12,166,71,12,165,70,12,165,70,12,164,69,12,164,69,12,164,68,12,163,68,12,163,67,13,162,67,13,162,66,13,161,66,13,161,65,13,161,65,13,160,64,13,160,64,13,159,63,13,159,63,13,159,62,13,158,62,13,158,61,13,157,61,13,157,61,13,157,60,13,156,60,13,156,59,13,155,59,14,155,58,14,155,58,14,154,57,14,154,57,14,154,56,14,153,56,14,153,56,14,152,55,14,152,55,14,152,54,14,151,54,14,151,53,14,151,53,14,150,53,14,150,52,14,150,52,14,149,51,14,149,51,14,148,51,14,148,50,15,148,50,15,147,49,15,147,49,15,147,49,15,146,48,15,146,48,15,146,47,15,145,47,15,145,47,15,145,46,15,145,46,15,144,46,15,144,45,15,144,45,15,143,45,15,143,44,15,143,44,15,142,43,15,142,43,15,142,43,15,142,42,15,141,42,15,141,42,16,141,41,16,140,41,16,140,41,16,140,41,16,140,40,16,139,40,16,139,40,16,139,39,16,139,39,16,138,39,16,138,38,16,138,38,16,138,38,16,137,38,16,137,37,16,137,37,16,137,37,16,136,37,16,136,36,16,136,36,16,136,36,16,136,36,16,135,35,16,135,35,16,135,35,16,135,35,16,135,34,16,134,34,16,134,34,16,134,34,16,134,33,16,134,33,17,134,33,17,133,33,17,133,33,17,133,33,17,133,32,17,133,32,17,133,32,17,132,32,17,132,32,17,132,31,17,132,31,17,132,31,17,132,31,17,132,31,17,132,31,17,131,31,17,131,31,17,131,30,17,131,30,17,131,30,17,131,30,17,131,30,17,131,30,17,131,30,17,131,30,17,131,30,17,130,30,17,130,29,17,130,29,17,130,29,17,130,29,17,130,29,17,130,29,17,130,29,17,130,29,17,130,29,17,130,29,17,130,29,17,130,29,17,130,29,17,130,29,17,130,29,17,130,29,17,130,29,17,130,29,17,130,29,17,130,29,17,130,29,17,129,29,17,129,29,17,129,29,17,129,29,17,129,29,17,129,29,18,128,29,18,128,29,18,128,28,18,128,28,18,127,28,18,127,28,18,127,28,18,126,28,18,126,28,18,126,28,19,125,28,19,125,28,19,125,28,19,124,28,19,124,27,19,123,27,19,123,27,20,123,27,20,122,27,20,122,27,20,121,27,20,121,27,20,120,27,21,120,26,21,119,26,21,118,26,21,118,26,21,117,26,22,117,26,22,116,26,22,116,25,22,115,25,22,114,25,23,114,25,23,113,25,23,113,25,23,112,24,24,111,24,24,111,24,24,110,24,24,109,24,25,109,24,25,108,23,25,107,23,25,106,23,26,106,23,26,105,23,26,104,23,26,103,22,27,103,22,27,102,22,27,101,22,27,100,22,28,100,21,28,99,21,28,98,21,29,97,21,29,97,21,29,96,20,29,95,20,30,94,20,30,93,20,30,92,20,31,92,19,31,91,19,31,90,19,31,89,19,32,88,19,32,87,18,32,87,18,33,86,18,33,85,18,33,84,18,34,83,17,34,82,17,34,82,17,35,81,17,35,80,16,35,79,16,35,78,16,36,77,16,36,76,16,36,75,15,37,75,15,37,74,15,37,73,15,38,72,15,38,71,14,38,70,14,39,69,14,39,69,14,39,68,13,40,67,13,40,66,13,40,65,13,41,64,13,41,63,12,41,62,12,41,62,12,42,61,12,42,60,11,42,59,11,43,58,11,43,57,11,43,57,11,44,56,10,44,55,10,44,54,10,45,53,10,45,52,10,45,52,9,45,51,9,46,50,9,46,49,9,46,48,9,47,47,8,47,47,8,47,46,8,47,45,8,48,44,8,48,44,7,48,43,7,49,42,7,49,41,7,49,41,7,49,40,6,50,39,6,50,38,6,50,38,6,50,37,6,51,36,6,51,35,5,51,35,5,51,34,5,52,33,5,52,33,5,52,32,5,52,31,4,53,31,4,53,30,4,53,30,4,53,29,4,54,28,4,54,28,3,54,27,3,54,27,3,54,26,3,55,26,3,55,25,3,55,24,3,55,24,2,55,23,2,56,23,2,56,22,2,56,22,2,56,21,2,56,21,2,56,21,2,57,20,2,57,20,1,57,19,1,57,19,1,57,19,1,57,18,1,57,18,1,58,18,1,58,17,1,58,17,1,58,17,1,58,16,1,58,16,1,58,16,0,58,16,0,58,15,0,58,15,0,59,15,0,59,15,0,59,15,0,59,15,0,59,14,0,59,14,0,59,14,0,59,14,0,59,14,0,59,14,0,59,14,0,59,14,0,59};
	index = index*3;
	vec4 result = vec4(0.0,0.0,0.0,1.0);
	if (n < iterations) {
		result.r = float(deadColorArrayRGB[index])/255.0;
		result.g = float(deadColorArrayRGB[index+1])/255.0;
		result.b = float(deadColorArrayRGB[index+2])/255.0;
	}
	return result;
}

void fragment() {
	// Called for every pixel the material is visible on.
	float x = -0.743643887037158704752191506114774;
	float y = 0.131825904205311970493132056385139;
	float zoom = pow(TIME,TIME);
	float cy,cx,zy,zx;
	float aspectRatio = SCREEN_PIXEL_SIZE.x / SCREEN_PIXEL_SIZE.y;
	cx = mapRange(0.0, 1.0, x-2.0/aspectRatio/zoom, x+2.0/aspectRatio/zoom, UV.x);
	cy = mapRange(1.0, 0.0, y-2.0/zoom, y+2.0/zoom, UV.y);
	zy = cy;
	zx = cx;
	for (int i = 0; i <= iterations; i++) {
		float tmp = zx;
		zx = (zx*zx - zy*zy) + cx;
		zy = 2.0*tmp*zy + cy;

		if ((zx*zx + zy*zy) > 1024.0) {
			int finalColIndex = ultraFractalColorIndex(float(i),vec2(cx,cy));
			vec4 finalCol = ultraFractalColor(i, finalColIndex);
			COLOR = finalCol;
			break;
		}
		if (i==iterations) {
			COLOR = vec4(0.0, 0.0, 0.0, 1.0);
		}
	}
}

//void light() {
	// Called for every pixel for every light affecting the material.
	// Uncomment to replace the default light processing function with this one.
//}
